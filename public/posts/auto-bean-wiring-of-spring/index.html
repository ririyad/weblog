<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="map[]" />
    <meta name="description" content="Describe your website">
    <link rel="shortcut icon" type="image/x-icon" href="https://example.com/img/favicon.ico">
    <title>Auto Bean Wiring of Spring</title>
    <meta name="generator" content="Hugo 0.44" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://example.com/css/main.css" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,200bold,400old" />
    
    <!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
			<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->

    
  </head>

  <body>
    <div id="wrap">

      
      <nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand" href="https://example.com/"><i class="fa fa-home"></i></a>
    </div>
    <div id="navbar">
      <ul class="nav navbar-nav navbar-right">
      
        
        <li><a href="/blog/">BLOG</a></li>
        
        <li><a href="/projects/">PROJECTS</a></li>
        
        <li><a href="/resume/">RESUME</a></li>
        
      
      </ul>
    </div>
  </div>
</nav>

      
      <div class="container">
        <div class="blog-post">
          <h3>
            <strong><a href="https://example.com/posts/auto-bean-wiring-of-spring/">Auto Bean Wiring of Spring</a></strong>
          </h3>
        </div>
        <div class="blog-title">
          <h4>
          May 28, 2018
            &nbsp;&nbsp;
            
            <span class="label label-success">@Autowired</span>
            
            <span class="label label-success">@Component</span>
            
            <span class="label label-success">@ComponentScan</span>
            
            <span class="label label-success">automatic-bean-wiring</span>
            
            <span class="label label-success">bean</span>
            
            <span class="label label-success">maven-project</span>
            
            <span class="label label-success">wiring-beans</span>
            
          </h4>
        </div>
        <div class="panel panel-default">
          <div class="panel-body">
            <div class="blogpost">
              

<p>As we previously discussed that the Spring container is responsible for creating the beans in your application and coordinating the relationship between those objects vi DI. The act of creating these associations between application objects in the essence of dependency injection(DI) and is commonly referred to as wiring.</p>

<h2 id="different-types-of-bean-wiring">Different Types of Bean Wiring</h2>

<p>Spring Offers three primary wiring mechanism</p>

<ul>
<li><p>An explicit configuration in XML</p></li>

<li><p>An explicit configuration in Java</p></li>

<li><p>An Implicit bean discovery and automatic wiring</p></li>
</ul>

<p>In this post, I am going to write notes about Spring&rsquo;s automatic wiring, I will write about the other two in later posts.</p>

<h3 id="automatically-wiring-beans">Automatically wiring beans</h3>

<p>Spring attacks automatic wiring from two angles:</p>

<ul>
<li><p><strong>Component scanning</strong> - Spring automatically discovers beans to be created in the application context</p></li>

<li><p><strong>Autowiring</strong> - Spring automatically satisfies bean dependencies</p></li>
</ul>

<p>To understand those concepts properly we will create a project for an online store, let&rsquo;s create a new maven project first</p>

<p>[caption id=&ldquo;attachment_1204&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1278&rdquo;]<a href="http://www.rimonmostafiz.com/wp-content/uploads/2018/05/create_maven_project.gif"><img src="http://www.rimonmostafiz.com/wp-content/uploads/2018/05/create_maven_project.gif" alt="" /></a> Create a New Maven Project[/caption]</p>

<h4 id="add-dependency">Add Dependency</h4>

<p>Now we need to add spring dependency to our <code>pom.xml</code> file</p>

<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;com.rimonmostafiz&lt;/groupId&gt;
    &lt;artifactId&gt;spring-diary&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;

    &lt;dependencyManagement&gt;
        &lt;dependencies&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.springframework&lt;/groupId&gt;
                &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;
                &lt;version&gt;5.0.6.RELEASE&lt;/version&gt;
                &lt;type&gt;pom&lt;/type&gt;
                &lt;scope&gt;import&lt;/scope&gt;
            &lt;/dependency&gt;
        &lt;/dependencies&gt;
    &lt;/dependencyManagement&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;junit&lt;/groupId&gt;
            &lt;artifactId&gt;junit&lt;/artifactId&gt;
            &lt;version&gt;4.12&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;


&lt;/project&gt;
</code></pre>

<p>We are adding <code>spring-core</code>, <code>spring-context</code>, <code>spring-test</code>, and <code>junit</code>for our dependency for now.</p>

<p>Before going to the next part wait a minute and first think about an online store.
Every online store has some items for sale, so the item is a dependency for a store.</p>

<p>So we need an item for our store. The following listing shows Item, an interface that defines an item for the store.</p>

<pre><code>package com.rimonmostafiz;

public interface Item {
    void readyForSell();
}
</code></pre>

<p>As we added Item as an Interface we can have several Item implementations. Let&rsquo;s add one implementation of <code>Item</code> for now called <code>FoodItem</code></p>

<pre><code>package com.rimonmostafiz;

import org.springframework.stereotype.Component;

@Component
public class FoodItem implements Item {

    String name = &quot;Pizza&quot;;
    String price = &quot;10.09$&quot;;

    public void readyForSell() {
        System.out.println(name + &quot; is ready for sell at &quot; + price);
    }
}
</code></pre>

<p><code>FoodItem</code> is a simple class which implements the Item interface. what is important is <code>FoodItem</code> is annotated with <code>@Component.</code></p>

<h4 id="component">@Component</h4>

<p><code>@Component</code> Indicates that the annotated class is a &ldquo;component&rdquo;. Such classes are considered as candidates for auto-detection when using annotation-based configuration and classpath scanning. This annotation tells spring container that a bean should be created for the class.</p>

<p>Now we need to write an explicit configuration to tell Spring to seek out all classes that are annotated with <code>@Component</code> and to create beans from them.
The configuration class in the following listing shows the minimal configuration to make this possible.</p>

<pre><code>package com.rimonmostafiz;

import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@ComponentScan
public class StoreConfig { }
</code></pre>

<p>If we observe that <code>StoreConfig</code> doesn’t explicitly define any beans itself. Instead, it’s annotated with <code>@ComponentScan</code> to enable component scanning in Spring.</p>

<h4 id="componentscan">@ComponentScan</h4>

<p>The @ComponentScan annotation is used with the @Configuration annotation to tell Spring the packages to scan for annotated components.
@ComponentScan also used to specify base packages and base package classes using basePackages or basePackageClasses attributes of @ComponentScan.
@ComponentScan will default to scanning the same package as the configuration class.</p>

<p>Therefore, because <code>StoreConfig</code> is in the <code>com.rimonmostafiz</code> package, Spring will scan that package and any sub-packages underneath it, looking for classes that are annotated with <code>@Component</code> . It should find the Item class and automatically create a bean for it in Spring.</p>

<p>The above configuration class is same as the XML listed bellow</p>

<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;

    &lt;context:component-scan base-package=&quot;soundsystem&quot; /&gt;

&lt;/beans&gt;
</code></pre>

<p>In the above XML we are using Spring&rsquo;s <code>context</code>namespace to turn on component scanning via XML configuration. Even though XML is an option for enabling component scanning, I’m going to focus on using the preferred Java-based configuration for the remainder of this discussion.</p>

<p>To test that component scanning is working we can write a simple JUnit test that creates a Spring application context and asserts that the Item bean is, in fact, created.</p>

<pre><code>package com.rimonmostafiz;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

import static org.junit.Assert.assertNotNull;

@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(classes = StoreConfig.class)
public class StoreTest {

    @Autowired
    Item foodItem;

    @Test
    public void foodItemIsNotNull() {
        assertNotNull(foodItem);
    }
}
</code></pre>

<p>Here the <code>@ContextConfiguration</code> annotation tells it to load its configuration from the <code>StoreConfig</code>class. Because that configuration class includes <code>@ComponentScan</code> ,  the resulting application context should include the <code>Item</code> bean. To prove that, the test has a property of type <code>Item</code> that is annotated with <code>@Autowired</code> to inject the <code>Item</code> bean into the test.
Finally, a simple test method asserts that the foodItem property isn’t null. If it’s not null, that means Spring was able to discover the <code>Item</code> class, automatically create it as a bean in the Spring application context, and inject it into the test.</p>

<h4 id="autowired">@Autowired</h4>

<p>Aautowiring is a means of letting Spring automatically satisfy a bean’s dependencies by finding other beans in the application context that are a match to the bean’s needs. To indicate that autowiring should be performed, we can use <code>@Autowired</code> annotation.</p>

<h4 id="test">Test</h4>

<p>If you now run the test it will pass.</p>

<p>[video width=&ldquo;1324&rdquo; height=&ldquo;910&rdquo; mp4=&ldquo;<a href="http://www.rimonmostafiz.com/wp-content/uploads/2018/05/autowiring_test_spring_diary.mp4&quot;][/video">http://www.rimonmostafiz.com/wp-content/uploads/2018/05/autowiring_test_spring_diary.mp4&quot;][/video</a>]</p>

              <hr>
              <div class="related-posts">
                <h5>Related Posts</h5>
                
              </div>
            </div>
          </div>
          <hr>
        <div class="disqus">
  <div id="disqus_thread"></div>
  <script type="text/javascript">

    (function() {
      
      
      if (window.location.hostname == "localhost")
        return;

      var disqus_shortname = '';
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
        </div>
      </div>
      
    </div>

    
    <footer>
  <div id="footer">
    <div class="container">
      <p class="text-muted">&copy; All rights reserved. Powered by <a href="https://gohugo.io/">Hugo</a> and
      <a href="http://www.github.com/nurlansu/hugo-sustain/">sustain</a> with ♥</p>
    </div>
  </div>
</footer>
<div class="footer"></div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://example.com/js/docs.min.js"></script>
<script src="https://example.com/js/main.js"></script>

<script src="https://example.com/js/ie10-viewport-bug-workaround.js"></script>


    
  </body>
</html>
